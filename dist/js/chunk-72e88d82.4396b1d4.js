(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72e88d82"],{"04c5":function(t,e,s){},"5f28":function(t,e,s){"use strict";s("d0e3")},a2d6:function(t,e,s){},aeab:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-img"}),s("div",{staticClass:"login-content"},[s("div",{staticClass:"content-header"},[s("div",{staticClass:"header-title fl"},[s("div",{staticClass:"logo fl",on:{click:function(e){return t.$router.push("/")}}},[s("img",{attrs:{src:"https://s02.mifile.cn/assets/static/image/logo-mi2.png",alt:""}})]),t._m(0)]),t._m(1)]),s("transition",{attrs:{name:"component-slide"}},[s("keep-alive",[s(t.current,{tag:"component",staticClass:"component",on:{change:t.changePage}})],1)],1)],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text fl"},[s("h3",[t._v("小米账号")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-btn fr"},[s("ul",[s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("用户协议")])]),s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("隐私政策")])]),s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("帮助中心")])])])])}],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-login"},[s("div",{staticClass:"content-table"},[s("div",{staticClass:"title"},[s("a",{staticClass:"btn-login",attrs:{href:"javascript:;"}},[t._v("登录")]),s("a",{staticClass:"btn-register",attrs:{href:"javascript:;"},on:{click:t.toRegister}},[t._v("注册")])]),s("div",{staticClass:"form"},[s("form",{attrs:{action:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"id",attrs:{type:"text",placeholder:"邮箱/手机号码/小米ID"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"psw",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{staticClass:"submit",attrs:{type:"submit",value:"登录"},on:{click:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}})]),s("a",{staticClass:"forget fl",attrs:{href:"javascript:;"},on:{click:function(e){return t.$message.info("敬请期待")}}},[t._v("忘记密码")]),s("a",{staticClass:"phone fr",attrs:{href:"javascript:;"},on:{click:function(e){return t.$message.info("敬请期待")}}},[t._v("手机号登录")])])])])},i=[],o=s("1da1"),c=(s("96cf"),{name:"user-login",data:function(){return{username:"",password:"",userId:""}},methods:{login:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.username,a=t.password,e.next=3,t.$axios.post("/user/login",{username:s,password:a});case 3:n=e.sent,t.$cookie.set("userId",n.id,{expires:"Session"}),t.$store.dispatch("saveUserName",n.username),t.$router.push({name:"index",params:{from:"login"}});case 7:case"end":return e.stop()}}),e)})))()},toRegister:function(){this.$emit("change","UserRegister")}}}),l=c,u=(s("ebaf"),s("2877")),m=Object(u["a"])(l,r,i,!1,null,"e1b6cec6",null),p=m.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-login"},[s("div",{staticClass:"content-table"},[s("div",{staticClass:"title"},[s("a",{staticClass:"btn-login",attrs:{href:"javascript:;"},on:{click:t.toLogin}},[t._v("登录")]),s("a",{staticClass:"btn-register",attrs:{href:"javascript:;"}},[t._v("注册")])]),s("div",{staticClass:"form"},[s("form",{attrs:{action:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"id",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"psw",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"email",attrs:{type:"text",placeholder:"请输入邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("input",{staticClass:"submit",attrs:{type:"submit",value:"点击注册"},on:{click:t.register}})])])])])},v=[],f={name:"user-login",components:{},data:function(){return{username:"",password:"",email:"",userId:""}},methods:{register:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/user/register",{username:t.username,password:t.password,email:t.email});case 2:s=e.sent,t.$message.success("注册成功"),console.log(s);case 5:case"end":return e.stop()}}),e)})))()},toLogin:function(){this.$emit("change","UserLogin")}}},g=f,h=(s("5f28"),Object(u["a"])(g,d,v,!1,null,"d358522a",null)),w=h.exports,C={name:"login",components:{UserLogin:p,UserRegister:w},data:function(){return{current:p}},methods:{changePage:function(t){this.current=t}}},b=C,_=(s("c559"),Object(u["a"])(b,a,n,!1,null,"704c1089",null));e["default"]=_.exports},c559:function(t,e,s){"use strict";s("a2d6")},d0e3:function(t,e,s){},ebaf:function(t,e,s){"use strict";s("04c5")}}]);
//# sourceMappingURL=chunk-72e88d82.4396b1d4.js.map