(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ea07888"],{"00b4":function(e,t,r){"use strict";r("ac1f");var i=r("23e7"),n=r("da84"),c=r("c65b"),s=r("e330"),a=r("1626"),o=r("861d"),u=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),d=n.Error,f=s(/./.test);i({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=this.exec;if(!a(t))return f(this,e);var r=c(t,this,e);if(null!==r&&!o(r))throw new d("RegExp exec method returned something other than an Object or null");return!!r}})},"052d":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-header"},[r("div",{staticClass:"container"},[r("div",{staticClass:"left-box"},[e._m(0),r("div",{staticClass:"title fl"},[e._v(e._s(e.title))]),r("div",{staticClass:"subtitle fl"},[e._t("tip")],2)]),r("div",{staticClass:"right-box fr"},[r("div",{staticClass:"username"},[e._v(e._s(e.username))])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logo"},[r("a",{attrs:{href:"/",name:"小米官网"}})])}],c=(r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4"),r("ade3"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=r("2f62"),u={name:"order-header",props:{title:String},computed:a({},Object(o["b"])(["username"]))},d=u,f=(r("ca1e"),r("2877")),l=Object(f["a"])(d,i,n,!1,null,"77cc1ccc",null);t["a"]=l.exports},"057f":function(e,t,r){var i=r("c6b6"),n=r("fc6a"),c=r("241c").f,s=r("f36a"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return c(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"==i(e)?o(e):c(n(e))}},"0a7e":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"mainDiv",staticClass:"order-confirm"},[r("order-header",{attrs:{title:"订单确认"},scopedSlots:e._u([{key:"tip",fn:function(){return[r("span",[e._v("温馨提示：请核对收货信息")])]},proxy:!0}])}),r("div",{staticClass:"container"},[r("div",{staticClass:"confirm-box"},[r("div",{staticClass:"location"},[r("p",[e._v("收货地址")]),e._l(e.AddressList,(function(t,i){return r("div",{key:i,staticClass:"location-box",class:{checked:i===e.checkIndex},on:{click:function(t){e.checkIndex=i}}},[r("h6",[e._v(e._s(t.receiverName))]),r("p",[e._v(e._s(t.receiverMobile))]),r("p",[e._v(e._s(t.receiverProvince)+" "+e._s(t.receiverCity)+" "+e._s(t.receiverDistrict)+" "+e._s(t.receiverAddress))]),r("div",{staticClass:"delete iconfont icon-lajitong",on:{click:function(r){return e.delAddress(t)}}}),r("div",{staticClass:"edit iconfont icon-bi",on:{click:function(r){return e.editAddressModule(t)}}})])})),r("div",{staticClass:"location-box add-box",on:{click:e.openAddressModule}},[r("div",{staticClass:"plus iconfont icon-zengjia"}),r("p",[e._v("添加新地址")])])],2),r("div",{staticClass:"products"},[r("p",{staticClass:"product-title"},[e._v("商品")]),e._l(e.cartList,(function(t,i){return r("div",{key:i,staticClass:"product-item"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.productMainImage,expression:"item.productMainImage"}],attrs:{alt:""}}),r("p",[e._v(e._s(t.productName+""+t.productSubtitle))]),r("div",[e._v(e._s(t.productPrice)+"元")]),r("div",{staticClass:"com"},[e._v(e._s(t.productTotalPrice)+"元 × "+e._s(t.quantity))])])}))],2),e._m(0),r("div",{staticClass:"sum"},[r("p",[e._v(" 商品件数："),r("span",[e._v(e._s(e.productCount)+"件")])]),r("p",[e._v(" 商品总价："),r("span",[e._v(e._s(e.cartTotalPrice)+"元")])]),e._m(1),e._m(2),r("p",[e._v(" 应付总额："),r("span",[r("b",[e._v(e._s(e.cartTotalPrice)+"元")])])])]),r("div",{staticClass:"button"},[r("a",{staticClass:"back",attrs:{href:"#/cart"}},[e._v("返回购物车")]),r("a",{staticClass:"to-pay",attrs:{href:"javascript:;"},on:{click:e.orderSubmit}},[e._v("去结算")])])])]),r("popup",{attrs:{title:"删除确认",btn:1,showModule:e.showDelModule},on:{cancel:function(t){e.showDelModule=!1},submit:e.submitAddress},scopedSlots:e._u([{key:"body",fn:function(){return[r("p",[e._v("是否确认要删除此地址")])]},proxy:!0}])}),r("popup",{attrs:{title:"新增地址",btn:1,showModule:e.showEditModule},on:{cancel:function(t){e.showEditModule=!1},submit:e.submitAddress},scopedSlots:e._u([{key:"body",fn:function(){return[r("div",{staticClass:"edit-wrap"},[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedItem.receiverName,expression:"checkedItem.receiverName"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:e.checkedItem.receiverName},on:{input:function(t){t.target.composing||e.$set(e.checkedItem,"receiverName",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedItem.receiverMobile,expression:"checkedItem.receiverMobile"}],attrs:{type:"text",placeholder:"手机号"},domProps:{value:e.checkedItem.receiverMobile},on:{input:function(t){t.target.composing||e.$set(e.checkedItem,"receiverMobile",t.target.value)}}})]),r("city-select",{on:{updateData:e.updateData}}),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.checkedItem.receiverAddress,expression:"checkedItem.receiverAddress"}],attrs:{name:"street"},domProps:{value:e.checkedItem.receiverAddress},on:{input:function(t){t.target.composing||e.$set(e.checkedItem,"receiverAddress",t.target.value)}}})]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedItem.receiverZip,expression:"checkedItem.receiverZip"}],staticClass:"email",attrs:{type:"text",placeholder:"邮编"},domProps:{value:e.checkedItem.receiverZip},on:{input:function(t){t.target.composing||e.$set(e.checkedItem,"receiverZip",t.target.value)}}})])],1)]},proxy:!0}])})],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"custom"},[r("p",[r("span",[e._v("配送方式")]),r("a",{attrs:{href:"javascript:;"}},[e._v("包邮")])]),r("p",[r("span",[e._v("发票")]),r("a",{attrs:{href:"javascript:;"}},[e._v("电子发票")]),r("a",{attrs:{href:"javascript:;"}},[e._v("个人")]),r("a",{attrs:{href:"javascript:;"}},[e._v("商品明细")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("优惠活动："),r("span",[e._v("0元")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("运费："),r("span",[e._v("0元")])])}],c=r("1da1"),s=(r("ac1f"),r("00b4"),r("4de4"),r("d3b7"),r("d81d"),r("96cf"),r("b0fe")),a=r("052d"),o=r("a8a5"),u={name:"order-confirm",components:{Popup:o["a"],OrderHeader:a["a"],CitySelect:s["default"]},data:function(){return{AddressList:[],cartList:[],cartTotalPrice:0,productCount:0,checkedItem:{},action:"",showDelModule:!1,showEditModule:!1,checkIndex:0}},methods:{getAddressList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/shippings");case 2:r=t.sent,e.AddressList=r.list;case 4:case"end":return t.stop()}}),t)})))()},openAddressModule:function(){this.action=0,this.checkedItem={},this.showEditModule=!0},editAddressModule:function(e){this.action=1,this.checkedItem=e,this.showEditModule=!0},delAddress:function(e){this.checkedItem=e,this.action=2,this.showDelModule=!0},submitAddress:function(){var e,t,r=this,i=this.checkedItem,n=this.action,c={};if(0===n?(e="post",t="/shippings"):1===n?(e="put",t="/shippings/".concat(i.id)):(e="delete",t="/shippings/".concat(i.id)),0===n||1===n){var s="",a=i.receiverName,o=i.receiverMobile,u=i.receiverProvince,d=i.receiverCity,f=i.receiverDistrict,l=i.receiverAddress,v=i.receiverZip;if(a?o&&/\d{11}/.test(o)?u?d?f?l?/\d{6}/.test(v)||(s="请输入六位邮编"):s="请填写详细地址":s="请填写区":s="请选择城市":s="请选择省份":s="请按正确格式输入手机号码":s="请输入收货人姓名",s)return void this.$message.error(s);c={receiverName:a,receiverMobile:o,receiverProvince:u,receiverCity:d,receiverDistrict:f,receiverAddress:l}}this.$axios[e](t,c).then((function(){r.closeModule(),r.getAddressList(),r.$message.success("操作成功")}))},closeModule:function(){this.checkedItem={},this.action="",this.showEditModule=!1,this.showDelModule=!1},getCartList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/carts");case 2:r=t.sent,e.cartList=r.cartProductVoList.filter((function(e){return e.productSelected})),e.cartTotalPrice=r.cartTotalPrice,e.cartList.map((function(t){e.productCount+=t.quantity}));case 6:case"end":return t.stop()}}),t)})))()},orderSubmit:function(){var e=this,t=this.AddressList[this.checkIndex];t?this.$axios.post("/orders",{shippingId:t.id}).then((function(t){e.$router.push({path:"/order/pay",query:{orderNo:t.orderNo}})})):this.$message.error("请选择收货地址")},getDivHeight:function(){var e=window.innerHeight;this.$refs.mainDiv.style.height=e-704+"px"},updateData:function(e,t,r){this.checkedItem.receiverProvince=e,this.checkedItem.receiverCity=t,this.checkedItem.receiverDistrict=r}},mounted:function(){this.getAddressList(),this.getCartList(),this.getDivHeight(),window.addEventListener("resize",this.getDivHeight)},destroyed:function(){window.removeEventListener("resize",this.getDivHeight,!1)}},d=u,f=(r("10f4"),r("2877")),l=Object(f["a"])(d,i,n,!1,null,"543b4a2f",null);t["default"]=l.exports},"107c":function(e,t,r){var i=r("d039"),n=r("da84"),c=n.RegExp;e.exports=i((function(){var e=c("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"10f4":function(e,t,r){"use strict";r("414a")},"414a":function(e,t,r){},"428f":function(e,t,r){var i=r("da84");e.exports=i},"4de4":function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").filter,c=r("1dde"),s=c("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"746f":function(e,t,r){var i=r("428f"),n=r("1a2d"),c=r("e538"),s=r("9bf2").f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});n(t,e)||s(t,e,{value:c.f(e)})}},9263:function(e,t,r){"use strict";var i=r("c65b"),n=r("e330"),c=r("577e"),s=r("ad6d"),a=r("9f7f"),o=r("5692"),u=r("7c73"),d=r("69f3").get,f=r("fce3"),l=r("107c"),v=o("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,h=p,m=n("".charAt),b=n("".indexOf),g=n("".replace),y=n("".slice),x=function(){var e=/a/,t=/b*/g;return i(p,e,"a"),i(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=a.UNSUPPORTED_Y||a.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],O=x||w||_||f||l;O&&(h=function(e){var t,r,n,a,o,f,l,O=this,k=d(O),I=c(e),C=k.raw;if(C)return C.lastIndex=O.lastIndex,t=i(h,C,I),O.lastIndex=C.lastIndex,t;var P=k.groups,j=_&&O.sticky,E=i(s,O),A=O.source,M=0,S=I;if(j&&(E=g(E,"y",""),-1===b(E,"g")&&(E+="g"),S=y(I,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==m(I,O.lastIndex-1))&&(A="(?: "+A+")",S=" "+S,M++),r=new RegExp("^(?:"+A+")",E)),w&&(r=new RegExp("^"+A+"$(?!\\s)",E)),x&&(n=O.lastIndex),a=i(p,j?r:O,S),j?a?(a.input=y(a.input,M),a[0]=y(a[0],M),a.index=O.lastIndex,O.lastIndex+=a[0].length):O.lastIndex=0:x&&a&&(O.lastIndex=O.global?a.index+a[0].length:n),w&&a&&a.length>1&&i(v,a[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(a[o]=void 0)})),a&&P)for(a.groups=f=u(null),o=0;o<P.length;o++)l=P[o],f[l[0]]=a[l[1]];return a}),e.exports=h},"9f7f":function(e,t,r){var i=r("d039"),n=r("da84"),c=n.RegExp;t.UNSUPPORTED_Y=i((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a4d3:function(e,t,r){"use strict";var i=r("23e7"),n=r("da84"),c=r("d066"),s=r("2ba4"),a=r("c65b"),o=r("e330"),u=r("c430"),d=r("83ab"),f=r("4930"),l=r("d039"),v=r("1a2d"),p=r("e8b5"),h=r("1626"),m=r("861d"),b=r("3a9b"),g=r("d9b5"),y=r("825a"),x=r("7b0b"),_=r("fc6a"),w=r("a04b"),O=r("577e"),k=r("5c6c"),I=r("7c73"),C=r("df75"),P=r("241c"),j=r("057f"),E=r("7418"),A=r("06cf"),M=r("9bf2"),S=r("d1e7"),D=r("f36a"),N=r("6eeb"),$=r("5692"),R=r("f772"),L=r("d012"),T=r("90e3"),H=r("b622"),z=r("e538"),Z=r("746f"),J=r("d44e"),U=r("69f3"),q=r("b727").forEach,B=R("hidden"),F="Symbol",K="prototype",Y=H("toPrimitive"),Q=U.set,V=U.getterFor(F),W=Object[K],G=n.Symbol,X=G&&G[K],ee=n.TypeError,te=n.QObject,re=c("JSON","stringify"),ie=A.f,ne=M.f,ce=j.f,se=S.f,ae=o([].push),oe=$("symbols"),ue=$("op-symbols"),de=$("string-to-symbol-registry"),fe=$("symbol-to-string-registry"),le=$("wks"),ve=!te||!te[K]||!te[K].findChild,pe=d&&l((function(){return 7!=I(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a}))?function(e,t,r){var i=ie(W,t);i&&delete W[t],ne(e,t,r),i&&e!==W&&ne(W,t,i)}:ne,he=function(e,t){var r=oe[e]=I(X);return Q(r,{type:F,tag:e,description:t}),d||(r.description=t),r},me=function(e,t,r){e===W&&me(ue,t,r),y(e);var i=w(t);return y(r),v(oe,i)?(r.enumerable?(v(e,B)&&e[B][i]&&(e[B][i]=!1),r=I(r,{enumerable:k(0,!1)})):(v(e,B)||ne(e,B,k(1,{})),e[B][i]=!0),pe(e,i,r)):ne(e,i,r)},be=function(e,t){y(e);var r=_(t),i=C(r).concat(we(r));return q(i,(function(t){d&&!a(ye,r,t)||me(e,t,r[t])})),e},ge=function(e,t){return void 0===t?I(e):be(I(e),t)},ye=function(e){var t=w(e),r=a(se,this,t);return!(this===W&&v(oe,t)&&!v(ue,t))&&(!(r||!v(this,t)||!v(oe,t)||v(this,B)&&this[B][t])||r)},xe=function(e,t){var r=_(e),i=w(t);if(r!==W||!v(oe,i)||v(ue,i)){var n=ie(r,i);return!n||!v(oe,i)||v(r,B)&&r[B][i]||(n.enumerable=!0),n}},_e=function(e){var t=ce(_(e)),r=[];return q(t,(function(e){v(oe,e)||v(L,e)||ae(r,e)})),r},we=function(e){var t=e===W,r=ce(t?ue:_(e)),i=[];return q(r,(function(e){!v(oe,e)||t&&!v(W,e)||ae(i,oe[e])})),i};if(f||(G=function(){if(b(X,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?O(arguments[0]):void 0,t=T(e),r=function(e){this===W&&a(r,ue,e),v(this,B)&&v(this[B],t)&&(this[B][t]=!1),pe(this,t,k(1,e))};return d&&ve&&pe(W,t,{configurable:!0,set:r}),he(t,e)},X=G[K],N(X,"toString",(function(){return V(this).tag})),N(G,"withoutSetter",(function(e){return he(T(e),e)})),S.f=ye,M.f=me,A.f=xe,P.f=j.f=_e,E.f=we,z.f=function(e){return he(H(e),e)},d&&(ne(X,"description",{configurable:!0,get:function(){return V(this).description}}),u||N(W,"propertyIsEnumerable",ye,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:G}),q(C(le),(function(e){Z(e)})),i({target:F,stat:!0,forced:!f},{for:function(e){var t=O(e);if(v(de,t))return de[t];var r=G(t);return de[t]=r,fe[r]=t,r},keyFor:function(e){if(!g(e))throw ee(e+" is not a symbol");if(v(fe,e))return fe[e]},useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!d},{create:ge,defineProperty:me,defineProperties:be,getOwnPropertyDescriptor:xe}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:_e,getOwnPropertySymbols:we}),i({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(x(e))}}),re){var Oe=!f||l((function(){var e=G();return"[null]"!=re([e])||"{}"!=re({a:e})||"{}"!=re(Object(e))}));i({target:"JSON",stat:!0,forced:Oe},{stringify:function(e,t,r){var i=D(arguments),n=t;if((m(t)||void 0!==e)&&!g(e))return p(t)||(t=function(e,t){if(h(n)&&(t=a(n,this,e,t)),!g(t))return t}),i[1]=t,s(re,null,i)}})}if(!X[Y]){var ke=X.valueOf;N(X,Y,(function(e){return a(ke,this)}))}J(G,F),L[B]=!0},ac1f:function(e,t,r){"use strict";var i=r("23e7"),n=r("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,r){"use strict";var i=r("825a");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ade3:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return i}))},b64b:function(e,t,r){var i=r("23e7"),n=r("7b0b"),c=r("df75"),s=r("d039"),a=s((function(){c(1)}));i({target:"Object",stat:!0,forced:a},{keys:function(e){return c(n(e))}})},b7dc:function(e,t,r){},ca1e:function(e,t,r){"use strict";r("b7dc")},d81d:function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").map,c=r("1dde"),s=c("map");i({target:"Array",proto:!0,forced:!s},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(e,t,r){var i=r("23e7"),n=r("83ab"),c=r("56ef"),s=r("fc6a"),a=r("06cf"),o=r("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,i=s(e),n=a.f,u=c(i),d={},f=0;while(u.length>f)r=n(i,t=u[f++]),void 0!==r&&o(d,t,r);return d}})},e439:function(e,t,r){var i=r("23e7"),n=r("d039"),c=r("fc6a"),s=r("06cf").f,a=r("83ab"),o=n((function(){s(1)})),u=!a||o;i({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(c(e),t)}})},e538:function(e,t,r){var i=r("b622");t.f=i},fce3:function(e,t,r){var i=r("d039"),n=r("da84"),c=n.RegExp;e.exports=i((function(){var e=c(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-4ea07888.470dcf84.js.map